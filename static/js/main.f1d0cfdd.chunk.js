(this["webpackJsonpreact-start"]=this["webpackJsonpreact-start"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),i=n(26),r=n.n(i),c=n(36),l=n(5),o=n(11),u=n(10),h=n(59),d=n(8),m=n(9),p=n(17),k=n(18),v=function(){function e(){Object(d.a)(this,e)}return Object(m.a)(e,null,[{key:"ShiftZero",value:function(e){return e<10?"0"+e:e}},{key:"MakeMyDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.ShiftZero(e)+"-"+this.ShiftZero(t)+"-"+this.ShiftZero(n)}},{key:"MakeMyTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.ShiftZero(e)+":"+this.ShiftZero(t)+":"+this.ShiftZero(n)}},{key:"DateToMyTime",value:function(e){return this.MakeMyTime(e.getHours(),e.getMinutes(),e.getSeconds())}},{key:"DateToMyDate",value:function(e){return this.MakeMyDate(e.getDate(),e.getMonth()+1,e.getFullYear())}},{key:"DateToMyDateNamed",value:function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()-1].slice(0,3),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()].slice(0,3);return"".concat(n," ").concat(t," ").concat(e.getFullYear())}},{key:"MyDateAndMyTimeToDate",value:function(e,t){return e=e.split("-").reverse().join("-"),new Date(e+"T"+t)}},{key:"MyDateAndMyTimeUntilNow",value:function(e,t){var n=this.MyDateAndMyTimeToDate(e,t)-new Date,a=Math.sign(n);n=Math.abs(n);var s=Math.floor(n/36e5);n-=3600*s*1e3;var i=Math.floor(n/6e4);return{ms:n-=60*i*1e3,seconds:Math.floor(n/1e3)*a,minutes:i*a,hours:s*a}}}]),e}(),b=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).state={curDate:v.DateToMyDateNamed(new Date),curTime:v.DateToMyTime(new Date)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.setState({curDate:v.DateToMyDateNamed(new Date)}),e.setState({curTime:v.DateToMyTime(new Date)})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"header--controls"},s.a.createElement("span",{className:"button",title:"Idk"},s.a.createElement(k.a,{icon:p.d})),s.a.createElement("span",{className:"button",title:"Settings",onClick:function(){e.props.onSettingsBtnClick()}},s.a.createElement(k.a,{icon:p.c}))),s.a.createElement("div",{className:"header--time"},s.a.createElement("span",{className:"time--date"},this.state.curDate),s.a.createElement("span",{className:"time--time"},this.state.curTime)))}}]),n}(s.a.Component),f=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={isExpanded:!1,swipe:null},a.OnMouseDownHandler=a.OnMouseDownHandler.bind(Object(l.a)(a)),a.OnMouseUpHandler=a.OnMouseUpHandler.bind(Object(l.a)(a)),a.OnMouseMoveHandler=a.OnMouseMoveHandler.bind(Object(l.a)(a)),a.OnMouseLeaveHandler=a.OnMouseLeaveHandler.bind(Object(l.a)(a)),a.TimeIconData=a.TimeIconData.bind(Object(l.a)(a)),a}return Object(m.a)(n,[{key:"OnMouseDownHandler",value:function(e){this.setState({swipe:{offset:0,last_x:e.screenX}})}},{key:"OnMouseLeaveHandler",value:function(e){this.setState({swipe:null})}},{key:"OnMouseUpHandler",value:function(e){if(this.state.swipe){var t=0===this.state.swipe.offset?!this.state.isExpanded:this.state.isExpanded;this.setState({swipe:null,isExpanded:t})}}},{key:"OnMouseMoveHandler",value:function(e){if(this.state.swipe){var t=this.state.swipe.last_x,n=this.state.swipe.offset+(e.screenX-t);Math.abs(n)>150?(this.props.onSwipe(this.props.task),this.setState({swipe:null})):this.setState({swipe:{offset:n,last_x:e.screenX}})}}},{key:"TimeUntilNow",value:function(e,t){return v.MyDateAndMyTimeToDate(e,t)-new Date}},{key:"TimeIconData",value:function(){var e=v.MyDateAndMyTimeUntilNow(this.props.task.date,this.props.task.time),t=e.hours?e.hours+" hours":"",n=e.minutes?e.minutes+" minutes":"",a="#00FF00";if(e.minutes+60*e.hours<0)a="#000000";else{var s=e.hours>1?"A0":"00";a="#"+(e.hours<=1?"FF":"00")+s+"00"}return{title:t+" "+n,color:a}}},{key:"render",value:function(){var e=this.state.isExpanded?"item-task__desc":"item-task__desc--hidden",t=this.state.swipe?{marginLeft:this.state.swipe.offset}:{},n=this.TimeIconData();return s.a.createElement("div",{style:t,className:"item-task",onMouseDown:this.OnMouseDownHandler,onMouseUp:this.OnMouseUpHandler,onMouseMove:this.OnMouseMoveHandler,onMouseLeave:this.OnMouseLeaveHandler},s.a.createElement("span",{className:"item-task__top"},s.a.createElement("span",{className:"item-task__name"},this.props.task.name),s.a.createElement(k.a,{className:"item-task__time-icon",title:n.title,icon:p.b,style:{color:n.color}})),s.a.createElement("span",{className:"item-task__date-time"},s.a.createElement("span",{className:"item-task__date"},this.props.task.date),s.a.createElement("span",{className:"item-task__time"},this.props.task.time)),s.a.createElement("span",{className:e},this.props.task.desc))}}]),n}(s.a.Component),S=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).OnItemSwipeHandler=a.OnItemSwipeHandler.bind(Object(l.a)(a)),a.OnMouseWheel=a.OnMouseWheel.bind(Object(l.a)(a)),a}return Object(m.a)(n,[{key:"OnItemSwipeHandler",value:function(e){this.props.onRemoveTask(e)}},{key:"OnMouseWheel",value:function(e){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{onWheel:this.OnMouseWheel,className:"inbox"},s.a.createElement("span",{className:"title"},"Inbox"),s.a.createElement("ol",{className:"list"},this.props.tasks.map((function(t){return s.a.createElement(f,{onSwipe:e.OnItemSwipeHandler,task:t,key:t.key})}))))}}]),n}(s.a.Component),y=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.rBtn.isSettingsSave?p.f:p.e;return s.a.createElement("div",{className:"footer",style:{zIndex:"999999"}},s.a.createElement("span",{className:"button--left",title:"Back",style:{visibility:this.props.lBtn.isVisible?"visible":"hidden"},onClick:function(){e.props.lBtn.onClick()}},s.a.createElement(k.a,{icon:p.a})),s.a.createElement("span",{className:"button--right",title:"Add new task",style:{visibility:this.props.rBtn.isVisible?"visible":"hidden"},onClick:function(){e.props.rBtn.onClick()}},s.a.createElement(k.a,{icon:t})))}}]),n}(s.a.Component),g=n(60),O=n(61),M=n.n(O),C=(n(74),null),D=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state=a.DefaultState(),a.OnSubmitClickHandler=a.OnSubmitClickHandler.bind(Object(l.a)(a)),a.OnInputChangeHandler=a.OnInputChangeHandler.bind(Object(l.a)(a)),a.OnClearClickHandler=a.OnClearClickHandler.bind(Object(l.a)(a)),a.OnDatePickerChange=a.OnDatePickerChange.bind(Object(l.a)(a)),a}return Object(m.a)(n,[{key:"DefaultState",value:function(){return{name:"",desc:"",date:v.DateToMyDate(new Date),time:v.DateToMyTime(new Date).slice(0,-3)}}},{key:"OnClearClickHandler",value:function(){this.setState(this.DefaultState())}},{key:"componentWillUnmount",value:function(){void 0!==C&&(C={},Object.assign(C,this.state))}},{key:"componentDidMount",value:function(){C?this.setState(C):C=null}},{key:"OnInputChangeHandler",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"ValidateInputs",value:function(){return 0!==this.state.name.length||(alert("You must enter task name!"),!1)}},{key:"OnSubmitClickHandler",value:function(e){this.ValidateInputs()&&(this.props.onSubmitHandler({name:this.state.name,desc:this.state.desc,time:this.state.time,date:this.state.date}),C=void 0),e.preventDefault()}},{key:"OnDatePickerChange",value:function(e){this.setState({time:v.DateToMyTime(e).slice(0,-3),date:v.DateToMyDate(e)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"screen--a-t"},s.a.createElement("span",{className:"title"},"Add new task"),s.a.createElement("form",null,s.a.createElement("label",null,s.a.createElement("span",{className:"label"},"Name:"),s.a.createElement("input",{name:"name",className:"input text-input",type:"text",value:this.state.name,placeholder:"Enter task name here",onChange:this.OnInputChangeHandler})),s.a.createElement("label",null,s.a.createElement("span",{className:"label"},"Description:"),s.a.createElement("textarea",{name:"desc",className:"input text-input",type:"text",value:this.state.desc,placeholder:"Enter task description here",onChange:this.OnInputChangeHandler})),s.a.createElement("label",null,s.a.createElement("span",{className:"label"},"Pick time:"),s.a.createElement(M.a,{className:"input text-input",onChange:this.OnDatePickerChange,selected:v.MyDateAndMyTimeToDate(this.state.date,this.state.time),value:this.state.date+" "+this.state.time,minDate:new Date,timeInputLabel:"Time:",timeFormat:"hh:mm",dateFormat:"dd/MM/yyyy",showTimeInput:!0})),s.a.createElement("input",{className:"button",title:"Add task",type:"submit",value:"Add",onClick:this.OnSubmitClickHandler}),s.a.createElement("input",{className:"button clear",title:"Clear fields",type:"button",value:"Clear",onClick:this.OnClearClickHandler})))}}]),n}(s.a.Component),T=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"OnCheckboxHandler",value:function(){this.props.onChange(this.props.index)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"item-setting"},s.a.createElement("span",null,this.props.name),s.a.createElement("input",{type:"checkbox",defaultChecked:this.props.isAllowed,onChange:function(){e.OnCheckboxHandler.call(e)}}))}}]),n}(s.a.Component),j=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={settings:a.props.settings.slice(0,a.props.settings.length)},a.OnSettingsChange=a.OnSettingsChange.bind(Object(l.a)(a)),a.GetSettings=a.GetSettings.bind(Object(l.a)(a)),a}return Object(m.a)(n,[{key:"OnSettingsChange",value:function(e){var t=Object(c.a)(this.state.settings);t[e].isAllowed=!t[e].isAllowed,this.setState({settings:t}),this.props.onSettingsChange()}},{key:"GetSettings",value:function(){return this.props.settings.slice(0,this.props.settings.length)}},{key:"render",value:function(){var e=this,t=0;return s.a.createElement("div",{className:"screen--settings"},s.a.createElement("span",{className:"title"},"Settings"),s.a.createElement("ol",{className:"list"},this.state.settings.map((function(n){return s.a.createElement(T,{key:t++,index:t-1,name:n.name,isAllowed:n.isAllowed,onChange:e.OnSettingsChange})}))))}}]),n}(s.a.Component),E=function(){function e(){Object(d.a)(this,e),this.GenerateTasks()}return Object(m.a)(e,[{key:"GenerateTasks",value:function(){this.tasks=[];for(var e=0;e<30;++e)this.tasks.push({name:String(100+e+" test"),desc:e,time:"",date:""});function t(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function n(){var e=(new Date).getHours()+1;return v.MakeMyTime(t(e,23),t(0,59),0).slice(0,-3)}function a(){var e=new Date;return v.MakeMyDate(t(e.getDate()-5,30),e.getMonth()+1,e.getFullYear())}for(var s=0;s<this.tasks.length-2;++s){var i=this.tasks[s];i.time=n(),i.date=a()}for(var r=0;r<this.tasks.length;++r)this.tasks[r].key=r;this.SortTasks()}},{key:"SortTasks",value:function(){var e=function(e){return v.MyDateAndMyTimeToDate(e.date,e.time)-new Date},t=this.tasks.filter((function(t){return e(t)>0}));t.sort((function(t,n){return e(t)-e(n)}));var n=this.tasks.filter((function(t){return e(t)<=0}));n.sort((function(t,n){return e(n)-e(t)})),this.tasks=t.concat(n)}},{key:"AddTask",value:function(e){!function(t){var n=0;0!==t.length&&(n=t[0].key);var a,s=Object(h.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;n=Math.max(i.key,n)}}catch(r){s.e(r)}finally{s.f()}e.key=n+1}(this.tasks),this.tasks.push(e),this.SortTasks()}},{key:"RemoveTask",value:function(e){var t=this.tasks.indexOf(e);this.tasks.splice(t,1)}}]),e}(),H=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).db=new E,e.state={},e.settings={isChanged:!1,items:[{name:"Notifications",isAllowed:!1},{name:"Sound",isAllowed:!0}]},e.Screens={AddTask:0,Settings:1,Inbox:2},Object.freeze(e.Screens),e.HeaderSettingsBtnHandler=e.HeaderSettingsBtnHandler.bind(Object(l.a)(e)),e.FooterRBtnHandler=e.FooterRBtnHandler.bind(Object(l.a)(e)),e.FooterLBtnHandler=e.FooterLBtnHandler.bind(Object(l.a)(e)),e.InboxRemoveTaskHandler=e.InboxRemoveTaskHandler.bind(Object(l.a)(e)),e.AddTaskSubmitHandler=e.AddTaskSubmitHandler.bind(Object(l.a)(e)),e.OnSettingsChange=e.OnSettingsChange.bind(Object(l.a)(e)),e.settings_screen_ref=s.a.createRef(),e.state.screen_stack=[e.Screens.Inbox],e.CurrentScreen=e.CurrentScreen.bind(Object(l.a)(e)),e.PushScreen=e.PushScreen.bind(Object(l.a)(e)),e.PopScreen=e.PopScreen.bind(Object(l.a)(e)),e}return Object(m.a)(n,[{key:"InboxRemoveTaskHandler",value:function(e){this.db.RemoveTask(e),this.setState(this)}},{key:"AddTaskSubmitHandler",value:function(e){this.db.AddTask(e),this.PopScreen()}},{key:"CurrentScreen",value:function(){return this.state.screen_stack[this.state.screen_stack.length-1]}},{key:"PushScreen",value:function(e){this.state.screen_stack.push(e),this.setState({screen_stack:this.state.screen_stack})}},{key:"PopScreen",value:function(){this.state.screen_stack.pop(),this.setState({screen_stack:this.state.screen_stack})}},{key:"HeaderSettingsBtnHandler",value:function(){this.CurrentScreen()!==this.Screens.Settings&&(this.settings.isChanged=!1,this.PushScreen(this.Screens.Settings))}},{key:"FooterRBtnHandler",value:function(){this.CurrentScreen()===this.Screens.Inbox?this.PushScreen(this.Screens.AddTask):this.CurrentScreen()===this.Screens.Settings&&(this.settings.items=Object(c.a)(this.settings_screen_ref.current.GetSettings()),this.PopScreen())}},{key:"FooterLBtnHandler",value:function(){this.CurrentScreen()!==this.Screens.Inbox&&this.PopScreen()}},{key:"OnSettingsChange",value:function(){this.settings.isChanged=!0,this.setState(this.state)}},{key:"render",value:function(){var e=function(){switch(this.CurrentScreen()){case this.Screens.AddTask:return s.a.createElement(D,{onSubmitHandler:this.AddTaskSubmitHandler});case this.Screens.Settings:return s.a.createElement(j,{settings:this.settings.items,ref:this.settings_screen_ref,onSettingsChange:this.OnSettingsChange});case this.Screens.Inbox:return s.a.createElement(S,{tasks:this.db.tasks,onRemoveTask:this.InboxRemoveTaskHandler})}}.call(this);var t={onClick:this.FooterRBtnHandler,isVisible:function(){var e=this.CurrentScreen();return e===this.Screens.Inbox||(e===this.Screens.Settings?this.settings.isChanged:void 0)}.call(this),isSettingsSave:this.CurrentScreen()===this.Screens.Settings&&this.settings.isChanged};return s.a.createElement("div",{className:"todo"},s.a.createElement(b,{onSettingsBtnClick:this.HeaderSettingsBtnHandler}),e,s.a.createElement(y,{rBtn:t,lBtn:{onClick:this.FooterLBtnHandler,isVisible:this.CurrentScreen()!==this.Screens.Inbox}}))}}]),n}(s.a.Component);n(131);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root"))},64:function(e,t,n){e.exports=n(132)}},[[64,1,2]]]);
//# sourceMappingURL=main.f1d0cfdd.chunk.js.map